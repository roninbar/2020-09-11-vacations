(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,t,a){e.exports=a(138)},122:function(e,t,a){},131:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);a(122);var n,r=a(0),o=a.n(r),i=a(12),s=a.n(i),l=a(31),c=(a(131),a(189)),u=a(192),d=a(178),m=a(171),h=a(141),p=a(176),f=a(4),b=a(99),v=a.n(b),g=a(10),y=a(13),E=a.n(y),w=a(19),O=a(25);function j(e,t){return k.apply(this,arguments)}function k(){return(k=Object(w.a)(E.a.mark((function e(t,a){var n,r,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:if(n=e.sent,r=n.status,o=n.statusText,!(200<=r&&r<300)){e.next=10;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:throw new Error("".concat(r," ").concat(o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=Object(O.b)("user/login",function(){var e=Object(w.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,(r=new URLSearchParams).set("username",a),r.set("password",n),e.next=6,j("/user/login",{method:"POST",body:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(O.b)("user/logout",Object(w.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/logout",{method:"POST"});case 2:if(t=e.sent,a=t.status,n=t.statusText,!(200<=a&&a<300)){e.next=9;break}return e.abrupt("return",n);case 9:throw new Error("".concat(a," ").concat(n));case 10:case"end":return e.stop()}}),e)}))));function D(e){e.id=0,e.name="",e.role=""}var F=Object(O.c)({name:"user",initialState:{error:!1,id:0,name:"",role:""},extraReducers:(n={},Object(g.a)(n,C.pending,(function(e){e.error=!1,e.loading=!0})),Object(g.a)(n,C.fulfilled,(function(e,t){var a=t.payload,n=a.id,r=a.name,o=a.role;e.loading=!1,e.error=!1,e.id=n,e.name=r,e.role=o})),Object(g.a)(n,C.rejected,(function(e,t){var a=t.error;e.loading=!1,e.error=a,D(e)})),Object(g.a)(n,x.pending,(function(e){e.error=!1,e.loading=!0})),Object(g.a)(n,x.fulfilled,(function(e){e.loading=!1,e.error=!1,D(e)})),Object(g.a)(n,x.rejected,(function(e,t){var a=t.error;e.loading=!1,e.error=a})),n)}).reducer,S=a(39),A=a(16),B=a(24);var T,N=Object(l.b)((function(e){return{username:e.user.name}}),null)((function(e){var t=e.username,a=e.component,n=Object(B.a)(e,["username","component"]);return o.a.createElement(A.b,Object.assign({},n,{render:function(e){return t?o.a.createElement(a,e):o.a.createElement(A.a,{to:{pathname:"/login",state:{referer:e.location}}})}}))})),R=a(38),P=a(40),M=a(41),U=a(46),W=a(45),I=a(89),q=a(190),L=a(142),z=a(191),K=a(198),V=a(197),G=a(20),H=a(167),J=a(193),Z=a(169),$=a(170),Y=a(172),Q=a(196),X=a(179),_=a(180),ee=a(97),te=a.n(ee),ae=a(72),ne=a.n(ae),re=a(181),oe=a(194),ie=a(91),se=a(92),le=a.n(se),ce=new ie.Html5Entities,ue=Object(f.a)({form:{flexGrow:1,display:"flex",flexFlow:"row nowrap"}})((function(e){var t=e.classes,a=e.onSubmit,n=e.onClickAway,r=Object(B.a)(e,["classes","onSubmit","onClickAway"]);return o.a.createElement(H.a,{onClickAway:n},o.a.createElement("form",{className:t.form,onSubmit:a},o.a.createElement(J.a,Object.assign({fullWidth:!0},r))))})),de=function(e){Object(U.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).state={editing:"nothing",fields:{}},n}return Object(M.a)(a,[{key:"quitEditing",value:function(){this.setState({fields:{},editing:"nothing"})}},{key:"onClickEditButton",value:function(e){this.setState({editing:e})}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setField(a,n)}},{key:"onChangeDate",value:function(e,t,a){this.setField(e,a)}},{key:"onAcceptDate",value:function(e,t){this.setField(e,t.format("yyyy-MM-DD"))}},{key:"setField",value:function(e,t){var a=this.state.fields;this.setState({fields:Object(R.a)(Object(R.a)({},a),{},Object(g.a)({},e,t))})}},{key:"onSubmitTextField",value:function(e){e.preventDefault(),this.fireChangeFields()}},{key:"onSubmitDates",value:function(e){e.preventDefault(),this.fireChangeFields()}},{key:"onKeyUp",value:function(e){"Escape"===e.key&&this.quitEditing()}},{key:"onClickAway",value:function(){this.fireChangeFields()}},{key:"fireChangeFields",value:function(){var e=this.state.fields;le.a.isEmpty(e)||(0,this.props.onChangeFields)(e);this.quitEditing()}},{key:"onBlur",value:function(e,t){var a=t.target.innerText,n=this.props,r=n.onChangeFields;if(a!==n[e])return r(Object(g.a)({},e,a))}},{key:"render",value:function(){var e,t,a,n,r,i,s=this.props,l=s.destination,c=s.from,u=s.to,d=s.price,f=s.description,b=s.image,v=s.followers,g=s.isFollowing,y=s.onChangeFollowing,E=s.onDelete,w=s.userRole,O=s.classes,j=this.state.editing;return o.a.createElement(Z.a,{className:O.root},o.a.createElement($.a,{className:O.media+("image"===j?" editing":""),image:b,title:l},"admin"===w&&o.a.createElement("div",{className:"overlay"},"image"===j?o.a.createElement(ue,{variant:"outlined",autoFocus:!0,type:"text",name:"image",value:"string"===typeof(null===(e=this.state.fields)||void 0===e?void 0:e.image)?null===(t=this.state.fields)||void 0===t?void 0:t.image:b,onChange:this.onChange.bind(this),onSubmit:this.onSubmitTextField.bind(this),onClickAway:this.onClickAway.bind(this),onKeyUp:this.onKeyUp.bind(this),inputProps:{pattern:"^(?:([A-Za-z]+):)?(\\/{0,3})([0-9.\\-A-Za-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$"},className:O.imageEditTextField}):o.a.createElement(m.a,{className:O.imageEditButton,onClick:this.onClickEditButton.bind(this,"image")},o.a.createElement(ne.a,null)))),o.a.createElement(Y.a,null,"destination"===j?o.a.createElement(ue,{variant:"outlined",name:"destination",value:"string"===typeof(null===(a=this.state.fields)||void 0===a?void 0:a.destination)?null===(n=this.state.fields)||void 0===n?void 0:n.destination:l,onChange:this.onChange.bind(this),onSubmit:this.onSubmitTextField.bind(this),onClickAway:this.onClickAway.bind(this),onKeyUp:this.onKeyUp.bind(this),autoFocus:!0}):o.a.createElement(h.a,{className:O.contentRow,variant:"h5",gutterBottom:!0},l,"admin"===w&&"nothing"===j&&o.a.createElement("div",{className:"overlay"},o.a.createElement(m.a,{onClick:this.onClickEditButton.bind(this,"destination")},o.a.createElement(ne.a,null)))),"dates"===j?o.a.createElement(H.a,{onClickAway:this.onClickAway.bind(this)},o.a.createElement("form",{onSubmit:this.onSubmitDates.bind(this),className:O.datesForm},o.a.createElement(oe.a,{disablePast:!0,disableToolbar:!0,variant:"inline",format:"yyyy-MM-DD",margin:"normal",label:"Start Date",name:"from",value:(null===(r=this.state.fields)||void 0===r?void 0:r.from)||c,onChange:this.onChangeDate.bind(this,"from"),onAccept:this.onAcceptDate.bind(this,"from")}),o.a.createElement(oe.a,{disablePast:!0,disableToolbar:!0,variant:"inline",format:"yyyy-MM-DD",margin:"normal",label:"End Date",name:"to",value:(null===(i=this.state.fields)||void 0===i?void 0:i.to)||u,onChange:this.onChangeDate.bind(this,"to"),onAccept:this.onAcceptDate.bind(this,"to")}),o.a.createElement(p.a,{type:"submit"},"Update"))):o.a.createElement(h.a,{className:O.contentRow,variant:"subtitle1",gutterBottom:!0},o.a.createElement(Q.a,{fontWeight:"fontWeightBold",onBlur:this.onBlur.bind(this,"dates")},ce.decode("".concat(c.toDateString(),"&ndash;").concat(u.toDateString()))),"admin"===w&&"nothing"===j&&o.a.createElement("div",{className:"overlay"},o.a.createElement(m.a,{onClick:this.onClickEditButton.bind(this,"dates")},o.a.createElement(ne.a,null)))),o.a.createElement(h.a,{className:O.contentRow,variant:"body1",gutterBottom:!0,component:"div",contentEditable:"admin"===w,suppressContentEditableWarning:!0,onBlur:this.onBlur.bind(this,"description")},f),o.a.createElement(h.a,{className:O.contentRow,variant:"h6"},o.a.createElement(Q.a,{fontWeight:"fontWeightBold"},"\u20ac",o.a.createElement("span",{contentEditable:"admin"===w,suppressContentEditableWarning:!0,onBlur:this.onBlur.bind(this,"price")},d)))),o.a.createElement(X.a,{className:O.actions},"user"===w&&o.a.createElement(_.a,{badgeContent:v,color:"primary"},o.a.createElement(re.a,{value:"check",selected:Boolean(g),onChange:function(){return y(!g)}},o.a.createElement(h.a,{variant:"button"},"Follow"))),"admin"===w&&o.a.createElement(m.a,{onClick:E},o.a.createElement(te.a,null))))}}]),a}(r.PureComponent),me=Object(f.a)({root:{},media:{position:"relative",height:140,"& .overlay":{display:"flex",flexFlow:"row-reverse nowrap",position:"absolute",right:0,bottom:0,left:0,opacity:0,backgroundColor:"black"},"&:hover .overlay":{opacity:.5},"&.editing .overlay":{opacity:1}},imageEditTextField:{backgroundColor:"white"},imageEditButton:{color:"rgba(255, 255, 255, 1.0)"},contentRow:{position:"relative","& .overlay":{display:"none",flexDirection:"row-reverse",position:"absolute",right:0,bottom:0,left:0},"&:hover .overlay":{display:"flex"}},datesForm:{display:"flex",flexDirection:"column",alignItems:"center",border:"2px solid #3f51b5",borderRadius:"3px"},actions:{flexDirection:function(e){return"admin"===e.userRole?"row-reverse":"row"}}})(de),he=Object(O.b)("vacations/loadAll",j.bind(null,"/vacation/all")),pe=Object(O.b)("vacations/loadOne",function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("/vacation/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fe=Object(O.b)("vacations/change",function(){var e=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(B.a)(t,["id"]),e.next=3,j("/vacation/".concat(a),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),be=Object(O.b)("vacations/delete",function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("/vacation/".concat(t),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function ve(e,t){var a=t.id,n=Object(B.a)(t,["id"]);e.loading=!1,e.error=!1;var r=e.vacations.find((function(e){return e.id===a}));r?Object.assign(r,Object(R.a)({},n)):e.vacations.push(Object(R.a)({id:a},n))}var ge=Object(O.c)({name:"vacations",initialState:{error:!1,loading:!1,vacations:[]},reducers:{setFollowing:function(e,t){var a=t.payload,n=a.id,r=a.isFollowing;e.error=!1;var o=e.vacations.find((function(e){return e.id===n}));o?o.isFollowing=r:e.error=new Error("Vacation ID ".concat(n," doesn't exist in the Redux store."))}},extraReducers:(T={},Object(g.a)(T,he.pending,(function(e){e.error=!1,e.loading=!0})),Object(g.a)(T,he.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.error=!1,e.vacations=a})),Object(g.a)(T,he.rejected,(function(e,t){var a=t.error;e.loading=!1,e.error=a})),Object(g.a)(T,pe.pending,(function(e){e.error=!1,e.loading=!0})),Object(g.a)(T,pe.fulfilled,(function(e,t){ve(e,t.payload)})),Object(g.a)(T,pe.rejected,(function(e,t){var a=t.error;e.loading=!1,e.error=a})),Object(g.a)(T,fe.pending,(function(e){e.error=!1,e.loading=!0})),Object(g.a)(T,fe.fulfilled,(function(e,t){ve(e,t.payload)})),Object(g.a)(T,fe.rejected,(function(e,t){var a=t.error,n=t.meta.arg,r=n.id,o=n.isFollowing;e.loading=!1,e.error=a,"boolean"===typeof o&&(e.vacations.find((function(e){return e.id===r})).isFollowing=!o)})),Object(g.a)(T,be.pending,(function(e){e.error=!1,e.loading=!0})),Object(g.a)(T,be.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.error=!1,e.vacations=a})),Object(g.a)(T,be.rejected,(function(e,t){var a=t.error;e.loading=!1,e.error=a})),Object(g.a)(T,x.fulfilled,(function(e){e.error=!1,e.vacations=[]})),T)}),ye=ge.actions.setFollowing,Ee=ge.reducer,we=a(182),Oe=a(173),je=a(174),ke=a(183),Ce=a(74),xe=a(184),De=a(185),Fe=a(186),Se=a(187),Ae=a(188),Be=a(175),Te=a(98),Ne=a.n(Te),Re=Object(f.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,r=Object(B.a)(e,["children","classes","onClose"]);return o.a.createElement(we.a,Object.assign({disableTypography:!0,className:a.root},r),o.a.createElement(h.a,{variant:"h6"},t),n&&o.a.createElement(m.a,{className:a.closeButton,onClick:n},o.a.createElement(Ne.a,null)))})),Pe=Object(f.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},content:{backgroundColor:"#f5f5f5"},okButton:{color:"#cb2431",backgroundColor:"#fff",transitionProperty:"all","&:hover":{color:"#fff",backgroundColor:"#cb2431"}}}}))((function(e){var t=e.classes,a=e.destination,n=e.start,r=e.finish,i=e.open,s=e.onOk,l=e.onCancel;return o.a.createElement(Oe.a,{open:i},o.a.createElement(Re,{onClose:l},"Delete this vacation?"),o.a.createElement(je.a,{dividers:!0,className:t.content},o.a.createElement(ke.a,{component:Ce.a},o.a.createElement(xe.a,null,o.a.createElement(De.a,null,o.a.createElement(Fe.a,null,o.a.createElement(Se.a,{component:"th",align:"center",colSpan:2},a))),o.a.createElement(Ae.a,null,o.a.createElement(Fe.a,null,o.a.createElement(Se.a,{component:"th",scope:"row"},"Start:"),o.a.createElement(Se.a,{align:"right"},n)),o.a.createElement(Fe.a,null,o.a.createElement(Se.a,{component:"th",scope:"row"},"Finish:"),o.a.createElement(Se.a,{align:"right"},r)))))),o.a.createElement(Be.a,null,o.a.createElement(p.a,{variant:"text",color:"primary",autoFocus:!0,className:t.okButton,onClick:s},"Yes, delete")))})),Me=function(e){Object(U.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).state={idToDelete:0},n}return Object(M.a)(a,[{key:"onChangeFollowing",value:function(e,t){var a={id:e,isFollowing:t},n=this.props,r=n.setFollowing,o=n.changeAsync;r(a),o(a)}},{key:"onChangeFields",value:function(e,t){(0,this.props.changeAsync)(Object(R.a)({id:e},t))}},{key:"onDelete",value:function(e){this.setState({idToDelete:e})}},{key:"onCancelDelete",value:function(){this.setState({idToDelete:0})}},{key:"onOkDelete",value:function(){var e=this.props.deleteAsync,t=this.state.idToDelete;this.setState({idToDelete:0}),e(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.userRole,r=t.vacations,i=t.loading,s=t.error,l=this.state.idToDelete,u="",d="",m="";if(l>0){var f=r.find((function(e){return e.id===l}));u=f.destination,d=f.from,m=f.to,d=d.toDateString(),m=m.toDateString()}return o.a.createElement(c.a,{maxWidth:"xl",className:a.root},o.a.createElement(G.a,{utils:I.a},o.a.createElement(q.a,{container:!0,spacing:4},r.map((function(t){var a=t.id,r=Object(B.a)(t,["id"]);return o.a.createElement(q.a,{item:!0,key:a,xs:12,sm:6,md:4,xl:3},o.a.createElement(me,Object.assign({},r,{userRole:n,onDelete:e.onDelete.bind(e,a),onChangeFields:e.onChangeFields.bind(e,a),onChangeFollowing:e.onChangeFollowing.bind(e,a)})))}))),o.a.createElement(Pe,{destination:u,start:d,finish:m,open:l>0,onOk:this.onOkDelete.bind(this),onCancel:this.onCancelDelete.bind(this)}),o.a.createElement(L.a,{open:i,className:a.loadingBackdrop},o.a.createElement(z.a,{className:a.progress})),o.a.createElement(L.a,{open:0===r.length,className:a.emptyBackdrop},o.a.createElement(h.a,{variant:"h3",component:"h3"},"There are no vacations in the system."),"admin"===n?o.a.createElement(p.a,{variant:"outlined"},"Click here to add some."):o.a.createElement(h.a,{variant:"h5"},"Please try again later.")),o.a.createElement(K.a,{open:"string"===typeof(null===s||void 0===s?void 0:s.message)},o.a.createElement(V.a,{variant:"filled",severity:"error",elevation:6},null===s||void 0===s?void 0:s.message))))}},{key:"componentDidMount",value:function(){var e=Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.loadAllAsync)();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.Component),Ue={logOutAsync:x,loadAllAsync:he,setFollowing:ye,changeAsync:fe,deleteAsync:be},We=Object(l.b)((function(e){var t=e.user,a=t.name,n=t.role,r=e.vacations;return{username:a,userRole:n,error:r.error,loading:r.loading,vacations:r.vacations.map((function(e){var t=e.from,a=e.to,n=Object(B.a)(e,["from","to"]);return Object(R.a)({from:new Date(t),to:new Date(a)},n)}))}}),Ue)(Object(A.g)(Object(f.a)((function(e){return{root:{padding:"2rem",backgroundColor:"#f5f5f5"},logout:{float:"right"},loadingBackdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},progress:{width:"90%"},emptyBackdrop:{flexDirection:"column"}}}))(Me))),Ie=a(177),qe=function(e){Object(U.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n}return Object(M.a)(a,[{key:"onSubmit",value:function(){var e=Object(w.a)(E.a.mark((function e(t){var a,n,r,o,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props,n=a.logInAsync,r=a.history,o=this.state,i=o.username,s=o.password,this.setState({submitted:!0}),e.next=6,n({username:i,password:s});case 6:r.push("/");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeField",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(g.a)({},a,n))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.loading,n=e.error,r=this.state,i=r.username,s=r.password;return o.a.createElement("div",{className:t.root},o.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit.bind(this)},o.a.createElement(J.a,{variant:"outlined",type:"text",name:"username",label:"Username",value:i,onChange:this.onChangeField.bind(this)}),o.a.createElement(J.a,{variant:"outlined",type:"password",name:"password",label:"Password",value:s,onChange:this.onChangeField.bind(this)}),o.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:!i||!s||a},a?o.a.createElement(Ie.a,null):"Log In")),o.a.createElement(K.a,{open:n},o.a.createElement(V.a,{variant:"filled",severity:"error",elevation:6},n.message)))}}]),a}(r.Component),Le=Object(l.b)((function(e){var t=e.user;return{loading:t.loading,error:t.error}}),{logInAsync:C})(Object(A.g)(Object(f.a)((function(e){return{root:{"& .MuiTextField-root, & .MuiButton-root":{margin:e.spacing(1)},"& .MuiTextField-root":{width:"25ch"}}}}))(qe))),ze=function(e){Object(U.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).state={firstname:"",lastname:"",username:"",password:"",password2:"",available:!0,submitted:!1},n}return Object(M.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(g.a)({},a,n))}},{key:"onSubmit",value:function(){var e=Object(w.a)(E.a.mark((function e(t){var a,n,r,o,i,s,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({submitted:!0}),e.prev=2,a=this.state,n=a.firstname,r=a.lastname,o=a.username,i=a.password,(s=new URLSearchParams).set("firstname",n),s.set("lastname",r),s.set("username",o),s.set("password",i),e.next=11,fetch("/user",{method:"POST",body:s});case 11:l=e.sent,201===l.status&&this.setState({firstname:"",lastname:"",username:"",password:"",password2:""});case 14:return e.prev=14,this.setState({submitted:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.firstname,a=e.lastname,n=e.username,r=e.available,i=e.password,s=e.password2,l=e.submitted,c=this.props.classes;return o.a.createElement("form",{className:c.root,noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit.bind(this)},o.a.createElement(J.a,{variant:"outlined",type:"text",name:"firstname",label:"First Name",helperText:!t&&"Required.",error:!t,value:t,onChange:this.onChange.bind(this)}),o.a.createElement(J.a,{variant:"outlined",type:"text",name:"lastname",label:"Last Name",helperText:!a&&"Required.",error:!a,value:a,onChange:this.onChange.bind(this)}),o.a.createElement(J.a,{variant:"outlined",type:"text",name:"username",label:"Username",helperText:n?!r&&'"'.concat(n,'" is not available.'):"Required.",error:!n||!r,value:n,onChange:this.onChange.bind(this)}),o.a.createElement(J.a,{variant:"outlined",type:"password",name:"password",label:"Password",helperText:!i&&"Required.",error:!i,value:i,onChange:this.onChange.bind(this)}),o.a.createElement(J.a,{variant:"outlined",type:"password",name:"password2",label:"Repeat Password",helperText:i!==s&&"Passwords don't match.",error:i!==s,value:s,onChange:this.onChange.bind(this)}),o.a.createElement(p.a,{variant:"contained",type:"submit",color:"primary",size:"large",disabled:!t||!a||!n||!r||!i||i!==s||l,ref:this.submitButton},"Sign Up"))}},{key:"componentDidUpdate",value:function(){var e=Object(w.a)(E.a.mark((function e(t,a){var n,r,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.username,!(r=this.state.username)||r===n){e.next=8;break}return e.next=5,fetch("/user/".concat(r),{method:"HEAD"});case 5:o=e.sent,i=o.status,this.setState({available:404===i});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(r.Component),Ke=Object(A.g)(Object(f.a)((function(e){return{root:{"& .MuiTextField-root, & .MuiButton-root":{margin:e.spacing(1)},"& .MuiTextField-root":{width:"25ch"}}}}))(ze));var Ve={logOutAsync:x},Ge=Object(l.b)((function(e){return{username:e.user.name}}),Ve)(Object(f.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logout:{float:"right"}}}))((function(e){var t=e.classes,a=e.username,n=e.logOutAsync;return o.a.createElement(S.a,null,o.a.createElement(c.a,{maxWidth:"xl",className:t.root},o.a.createElement(u.a,{position:"static"},o.a.createElement(d.a,null,o.a.createElement(m.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},o.a.createElement(v.a,null)),o.a.createElement(h.a,{variant:"h6",className:t.title},"Vacations"),a?o.a.createElement(p.a,{color:"inherit",onClick:n},"Log Out"):o.a.createElement(p.a,{color:"inherit"},"Log In"))),o.a.createElement(A.d,null,o.a.createElement(A.b,{exact:!0,path:"/signup"},o.a.createElement(Ke,null),o.a.createElement(S.b,{to:"/login"},"Already have an account?")),o.a.createElement(A.b,{exact:!0,path:"/login"},o.a.createElement(Le,null),o.a.createElement(S.b,{to:"/signup"},"Don't have an account yet?")),o.a.createElement(N,{exact:!0,path:"/",component:We}))))}))),He=Object(O.a)({reducer:{user:F,vacations:Ee}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:He},o.a.createElement(Ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[121,1,2]]]);
//# sourceMappingURL=main.57140998.chunk.js.map